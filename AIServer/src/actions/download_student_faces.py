import requests
import os  # Thêm thư viện os để làm việc với đường dẫn

def download_image(student_id):
    url = f'http://cb.dut.udn.vn/ImageSV/21/{student_id}.jpg?fbclid=IwAR2AFZsiZTnC1FX4zJMOuSMuWXPN0NbENgF4YokeD2OF5bIv609ZyGeaPXc'
    response = requests.get(url)
    
    if response.status_code == 200:
        # Thay đổi đường dẫn để lưu vào thư mục mong muốn
        save_path = os.path.join('D:\Code\BachKhoa\PBL 4\PBL04_DUT-Student-CheckIn-System\AI Server\student-faces', f'{student_id}.jpg')
        with open(save_path, 'wb') as f:
            f.write(response.content)
        print(f'Successfully downloaded image for student {student_id}')
    else:
        print(f'Failed to download image for student {student_id}')

# Thay thế danh sách mã số sinh viên của bạn vào đây
student_ids = [
"102210089",
"102210092",
"102210095",
"102210096",
"102210097",
"102210289",
"102210293",
"102210294",
"102210295",
"102210296",
"102210297",
"102210299",
"102210301",
"102210302",
"102210303",
"102210304",
"102210305",
"102210308",
"102210309",
"102210310",
"102210311",
"102210313",
"102210314",
"102210315",
"102210316",
"102210318",
"102210319",
"102210320",
"102210321",
"102210322",
"102210323",
"102210324",
"102210325",
"102210326",
"102210328",
"102210330",
"102210331",
"102210332",
"102210334",
"102210335",
"102210336",
"102190113",
"102190120",
"102190249",
"102200191",
"102200212",
"102210052",
"102210053",
"102210058",
"102210063",
"102210067",
"102210069",
"102210072",
"102210077",
"102210083",
"102210146",
"102210147",
"102210179",
"102210275",
"102210096",
"102210097",
"102210302",
"102210050",
"102210051",
"102210052",
"102210053",
"102210055",
"102210056",
"102210057",
"102210058",
"102210059",
"102210060",
"102210062",
"102210063",
"102210064",
"102210065",
"102210067",
"102210068",
"102210069",
"102210072",
"102210073",
"102210074",
"102210076",
"102210077",
"102210078",
"102210079",
"102210083",
"102210085",
"102210087",
"102210088",
"102210098",
"102210146",
"102210147",
"102210149",
"102210192",
"102210257",
"102210259",
"102210261",
"102210272",
"102210275",
"102210094",
"102210096",
"102210292",
"102210295",
"102210297",
"102210299",
"102210302",
"102210303",
"102210306",
"102210307",
"102210327",
"102210332",]

for student_id in student_ids:
    download_image(student_id)

